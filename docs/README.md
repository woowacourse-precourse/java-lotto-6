# 기능 명세서


## 기능 흐름도

### 1. 사용자에게 로또 구입 금액을 입력받는다.
-[x] 구입 금액 입력을 요청하는 메시지 출력한다.
-[x] 사용자에게 금액을 입력받아 저장한다.
-[ ] 입력값의 유효성을 검토한다.
  -[ ] null 값이 아닌지 체크한다.
  -[ ] 숫자형인지 체크한다.
  -[ ] 최소금액인 1000원 이상인지 체크한다.
  -[ ] 금액이 1000원 단위인지 체크한다.
### 2. 사용자가 입력한 로또 금액의 수량만큼 로또를 발행한다.
-[ ] 사용자가 금액만큼의 로또 번호와 보너스 번호를 생성한다.
  -[ ] 1 ~ 45 사의 값으로 생성한다.
  -[ ] 각각의 번호는 중복되지 않아야 한다.
-[ ] 발행한 결과를 출력한다.
  -[ ] 결과 출력 시 숫자는 오름차순으로 정렬하여 출력한다.
### 3. 사용자에게 당첨 번호를 입력받는다.
-[ ] 당첨 번호 입력을 요청하는 메시지를 출력한다.
-[ ] 사용자에게 당첨 번호를 입력받아 저장한다.
-[ ] 입력값의 유효성을 검토한다.
  -[ ] null 값이 아닌지 체크한다.
  -[ ] 빈 문자열인지 체크한다.
  -[ ] , 구분자로 분리 시 각각의 번호가 숫자형인지 체크한다.
  -[ ] 번호의 총합이 6 개인지 체크한다.
  -[ ] 각 번호가 1 ~ 45 사의 값인지 체크한다.
  -[ ] 중복된 값이 없는지 체크한다.
### 4. 사용자에게 보너스 번호를 입력받는다.
-[ ] 보너스 번호 입력을 요청하는 메시지를 출력한다.
-[ ] 사용자에게 보너스 번호를 입력받아 저장한다.
-[ ] 입력값의 유효성을 검토한다.
  -[ ] null 값이 아닌지 체크한다.
  -[ ] 빈 문자열인지 체크한다.
  -[ ] 숫자형인지 체크한다.
  -[ ] 1 ~ 45의 값인지 체크한다.
### 5. 발급된 각각의 로또 번호와 당첨 번호 및 보너스 번호를 비교하여 결과를 출력한다.
-[ ] 발급된 각각의 로또 번호와 당첨 번호 및 보너스 번호를 비교한다.
  -[ ] 5개가 일치할 경우 보너스 번호를 비교한다.
-[ ] 비교 결과 당첨 통계를 출력한다.
 
### 6. 구입 금액 대비 수익율을 계산하여 출력한다.
-[ ] 구입 금액 대비 수익율을 계산한다.
  -[ ] 수익율은 소숫점 아래 둘째 자리에서 반올림한다.
-[ ] 결과를 출력한다.

### 당첨 금액
- 1등: 6개 번호 일치 / 2,000,000,000원
- 2등: 5개 번호 + 보너스 번호 일치 / 30,000,000원
- 3등: 5개 번호 일치 / 1,500,000원
- 4등: 4개 번호 일치 / 50,000원
- 5등: 3개 번호 일치 / 5,000원

## MVC 패턴 기반의 기능 명세

### Constants
- 시스템 상수
- 출력 메시지
- 에러 메시지

### Model
1. Lotto
```
개별 로또 번호와 관련된 도메인 객체입니다.
로또 번호 생성, 유효성 검사, 저장, 반환 등과 관련된 메서드를 제공합니다.
```
- 로또 번호 저장
- 로또 번호 유효성 검증
- 로또 번호 반환

2. LottoTicket
```
여러 개의 Lotto 객체를 관리하며 구매금액 및 구매한 로또 티켓 수량을 저장하는 도메인 객체입니다. 
Lotto 객체의 생성 및 반환, 사용자의 구입금액을 바탕으로 구매 갯수를 계산하고 최종 상금과 비교하여 수익율을 계산하는 기능을 제공합니다. 
```

- 로또 번호 객체 Lotto 저장
- 로또 번호 객체 Lotto 반환
- 사용자 구입 금액 저장
- 사용자 구입 금액 반환
- 구매 갯수 저장
- 구매 갯수 반환
- 구매 갯수 계산 기능
- 수익률 계산

3. WinningNumbers
```
당첨 번호와 보너스 번호를 저장하고 관리하는 도메인 객체입니다.
당첨 번호와 보너스 번호의 생성, 유효성 검사, 저장, 반환 및 비교와 관련된 메서드를 제공합니다.
```
- 보너스 번호 저장
- 보너스 번호 유효성 검증
- 보너스 번호 반환
- 당첨 번호 저장
- 당첨 번호 유효성 검증
- 당첨 번호 반환

### View
OutputView
- 구입 금액 입력 요청 메시지 출력
- 구매한 로또 번호 출력
- 당첨 번호 입력 요청 메시지 출력
- 보너스 번호 입력 요청 메시지 출력
- 당첨 통계 출력
- 총 수익률 출력
InputView
- 로또 구매 금액 입력
- 당첨 번호 입력
- 보너스 번호 입력

### Controller
LottoController
- 구매 금액 입력 수행
- 당첨 번호 입력 수행
- 보너스 번호 입력 수행
- 로또 관련 Model 인스턴스 생성 및 초기화
- 당첨 여부 계산 수행
- 당첨 내역 출력 수행
- 총 수익률 출력 수행

### Utils
InputValidationUtil
- 사용자 입력값 검증
  - NULL 체크
  - 비어있는 문자열인지 체크
  - 숫자형 입력값인지 체크

### Service
LottoService
- 각 로또의 당첨 여부 계산
  - 당첨 번호와 구매한 로또 번호와 비교
  - 5개가 일치하는지 판단
  - 5개가 일치할경우 보너스 번호를 비교하여 2등인지 판단.
- 당첨 금액 계산
- 당첨 금액 별 당첨 수량 계산
- 수익률 계산
LottoPurchaseService
- 로또 티켓의 구매 수량 계산
- 로또 티켓의 구매
- 사용자 지불 금액의 유효성 검사


