![wooteco](https://github.com/AidenRoh/wooteco-precourse/assets/124841119/08c069a4-a7b0-41c1-884f-dfc6af17d373)

# 프리코스 3주차 미션: 로또

![Generic badge](https://img.shields.io/badge/precourse-week3-blue.svg)
![Generic badge](https://img.shields.io/badge/unitTest-10-green.svg)

> 우아한테크코스 6기 3주차 미션, 로또를 구현한 저장소입니다.

<br>

![lottoVideo](https://github.com/AidenRoh/wooteco-precourse/assets/124841119/f2e35062-5239-4829-8ba9-491804aa41af)

---

## 목차

- [패키지 구조](#패키지-구조)
- [게임 흐름](#게임-흐름)
- [기능 목록](#기능-목록)
    - [로또 번호](#1-로또-번호의-숫자-범위는-1부터-45까지이다)
    - [로또 구입](#2-구입-금액을-정하면-해당-구입-금액만큼-로또를-발행한다)
    - [당첨 번호](#3-당첨-번호와-보너스-번호를-설정한다)
    - [당첨 통계](#4-당첨-통계를-출력한다)

<br>

---

## 패키지 구조

<br>

```

📦 lotto
├─ 📁controller
│  └─————————————— 🕹️ GameController
├─ 📁 domain
│  ├─————————————— 🎫 Lotto
│  ├─————————————— 🪙 LottoKiosk
│  ├─————————————— 📜 LottoResult(Enum)
│  ├─————————————— 🔖 WinningNumbers
│  ├─————————————— 📄 WinningStatistic
│  ├─📁 constant
│  │ └─—————————————  LottoValue
│  └─📁 vo
│   ├─————————————— 📎 LottoNumber
│   ├─————————————— 🖇️ LottoNumbers
│   └─————————————— 💵 Money(Record)
├─ 📁 exception
│  ├─—————————————  ErrorMessage(Enum)
│  └─————————————— 🚫 LottoException
├─ 📁 service
│  └─————————————— ✨ LottoService
├─ 📁 util
│  ├─————————————— ✏️ NumberGenerator(Interface)
│  ├─————————————— ✏️ RandomNumberGenerator
│  └─————————————— 🔬 Parser
├─ 📁 validat
│  ├─—————————————✅ Validator
│  └─📁 validators
│   ├─—————————————  LottoGameValidator(Interface)
│   ├─—————————————  DuplicateNumber
│   ├─—————————————  EmptyInput
│   ├─—————————————  InvalidBonusNumber
│   ├─—————————————  InvalidInputAmount
│   ├─—————————————  InvalidLottoNumber
│   ├─—————————————  InvalidMoneyValue
│   ├─—————————————  NonIntegerInput
│   ├─—————————————  WinningNumbersFormat
│   └─—————————————  WinningNumbersSize
└─ 📁 view 
  ├─————————————— ⌨️ InputView 
  └─————————————— 🖨 OutputView

```

## 게임 흐름

![lotto@4x](https://github.com/AidenRoh/wooteco-precourse/assets/124841119/4c263c3b-1620-4005-b5ec-c4de017b83bb)
<br>

---

## 기능 목록

> 게임 흐름 순서로 기능 목록이 나열되어 있습니다. [게임 흐름](#게임-흐름)

### 1️⃣ 로또 번호의 숫자 범위는 1부터 45까지이다

- 필요한 기능

    - [x] **[범위 설정]** : 숫자 범위를 설정할 수 있다.
    - [x] **[주어진 설정 요구사항]** : 최소값이 1, 최대값이 45 이다.

<br>

- 해당 기능과 관련된 예외 상황

    - **[입력값 없음]** : 플레이어가 입력을 하지않은 경우
    - **[숫자가 아닌 입력값]** : 플레이어의 입력값이 숫자가 아닌 경우
    - **[플레이어의 잘못된 당첨 번호]** : 플레이어가 입력한 당첨 번호에 로또 번호의 범위에 벗어난 숫자가 있는 경우
    - **[플레이어의 잘못된 보너스 번호]** : 플레이어가 입력한 보너스 번호에 로또 번호의 범위에 벗어난 숫자가 있는 경우

<br>

##### ⚠️ 예외 처리 ⚠️

- [x] ``IllegalArgumentException``를 상속한 **[LottoException]** 을 활용한다.
- [x] 예외 발생 시, 예외 사항과 관련된 메세지를 플레이어에게 출력하고 **재입력**을 요구한다.
    - **[EMPTY_INPUT]** : ``LottoException``을 호출하고 `입력값이 없습니다.`를 출력한다.
    - **[STRING_NOT_ALLOWED]** : ``LottoException``을 호출하고 `숫자만 입력 가능합니다.`를 출력한다.
    - **[INVALID_LOTTO_NUMBER]** : ``LottoException``을 호출하고 `로또 번호는 1부터 45사이의 숫자여야 합니다.`를 출력한다.
    - **[입력 재요청]** : 예외가 발생한 입력 지점으로 돌아와 입력 재요청한다.

<br>

### 2️⃣ 구입 금액을 정하면, 해당 구입 금액만큼 로또를 발행한다.

- 필요한 기능

    - [x] **[로또 가격 설정]** : 로또 가격을 설정할 수 있다.
    - [x] **[금액 입력]** : 금액을 입력받는다.
    - [x] **[로또 생성]** : 금액과 가격을 나눈 값만큼 로또를 생성한다.
    - [x] **[생성된 로또 출력]** : 생성된 로또를 출력한다.
    - [x] **[로또 번호 주입]** : 로또 생성 시, 6개의 로또 번호를 뽑아 로또에 주입한다.
        - **[랜덤 번호]** : 설정한 범위에 랜덤 번호를 설정한 개수만큼 뽑을 수 있다.

<br>

- 해당 기능과 관련된 예외 상황

    - **[입력값 없음]** : 플레이어가 입력을 하지않은 경우
    - **[숫자가 아닌 입력값]** : 플레이어의 입력값이 숫자가 아닌 경우
    - **[음수의 금액]** : 플레이어의 입력값이 음수인 경우
    - **[로또 가격 단위에 맞지 않는 금액]** : 플레이어의 입력 금액으로 로또 가격에 나머지가 나오는 경우
    - **[로또 가격보다 적은 금액]** : 플레이어의 입력 금액이 로또 가격보다 적은 경우

<br>

##### ⚠️ 예외 처리 ⚠️

- [x] ``IllegalArgumentException``를 상속한 **[LottoException]** 을 활용한다.
- [x] 예외 발생 시, 예외 사항과 관련된 메세지를 플레이어에게 출력하고 **재입력**을 요구한다.
    - **[EMPTY_INPUT]** : ``LottoException``을 호출하고 `입력값이 없습니다.`를 출력한다.
    - **[STRING_NOT_ALLOWED]** : ``LottoException``을 호출하고 `숫자만 입력 가능합니다.`를 출력한다.
    - **[INVALID_MONEY]** : ``LottoException``을 호출하고 `금액은 음수가 될 수 없습니다.`를 출력한다.
    - **[INVALID_AMOUNT]** : ``LottoException``을 호출하고 `금액은 1000원 단위로 설정해야 합니다.`를 출력한다.
    - **[UNAFFORDABLE_STATUS]** : ``LottoException``을 호출하고 `금액이 작아 로또를 살 수 없습니다.`를 출력한다.
    - **[입력 재요청]** : 예외가 발생한 입력 지점으로 돌아와 입력 재요청한다.

<br>

### 3️⃣ 당첨 번호와 보너스 번호를 설정한다.

- 필요한 기능

    - [x] **[당첨 번호 입력]** : 당첨 번호를 입력 받는다.
    - [x] **[보너스 번호 입력]** : 당첨 번호와 겹치지 않는 보너스 번호를 입력 받는다.
    - [x] **[당첨 결과 객체]** : 당첨 기준과 상금이 있는 자료
    - [x] **[일치하는 로또 찾기]** : 당첨 번호와 보너스 번호에 일치하는 로또를 찾는다.
    - [x] **[당첨 결과에 반영]** : 당첨 기준에 일치하는 로또를 당첨 결과 객체에 반영한다.

<br>

- 해당 기능과 관련된 예외 상황

    - **[입력값 없음]** : 플레이어가 입력을 하지않은 경우
    - **[잘못된 형식의 당첨 번호]** : 당첨 번호의 입력값이 숫자와 쉼표(,)로 이루어지지 않은 경우
    - **[6개의 당첨 번호가 아님]** : 당첨 번호가 로또 번호 개수(6)에 벗어난 경우
    - **[당첨 번호에 같은 숫자가 존재]** : 6개의 당첨 번호에 겹치는 번호가 있는 경우
    - **[당첨 번호와 보너스 번호가 겹침]** : 보너스 번호에 당첨 번호와 겹치는 숫자가 있는 경우

<br>

##### ⚠️ 예외 처리 ⚠️

- [x] ``IllegalArgumentException``를 상속한 **[LottoException]** 을 활용한다.
- [x] 예외 발생 시, 예외 사항과 관련된 메세지를 플레이어에게 출력하고 **재입력**을 요구한다.
    - **[EMPTY_INPUT]** : ``LottoException``을 호출하고 `입력값이 없습니다.`를 출력한다.
    - **[WINNING_NUMBERS_FORMAT]** : ``LottoException``을 호출하고 `당첨 번호는 쉼표(,)로 구분된 숫자 조합여야합니다.`를 출력한다.
    - **[INVALID_WINNING_NUMBERS_SIZE]** : ``LottoException``을 호출하고 `당첨 번호는 6개의 숫자여야 합니다.`를 출력한다.
    - **[DUPLICATED_NUMBER]** : ``LottoException``을 호출하고 `중복된 번호가 있습니다.`를 출력한다.
    - **[INVALID_BONUS_NUMBER]** : ``LottoException``을 호출하고 `보너스 번호는 당첨 번호와 겹칠 수 없습니다.`를 출력한다.
    - **[입력 재요청]** : 예외가 발생한 입력 지점으로 돌아와 입력 재요청한다.

<br>

### 4️⃣ 당첨 통계를 출력한다.

- 필요한 기능

    - [x] **[당첨된 로또 상금 합산]** : 당첨된 로또의 당첨기준에 맞는 상금을 합산한다.
    - [x] **[수익률 계산]** : 합산된 상금과 지불금을 비교하여 수익률을 계산한다.
    - [x] **[당첨 결과 출력]** : 당첨 결과를 출력한다.

<br>

- 해당 기능과 관련된 예외 상황

    - 없음

---