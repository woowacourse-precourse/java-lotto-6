# 🍀 로또 게임 🍀
> ⁜ **우아한테크코스 2024 프리코스 3주차 미션**
>
> 🌼 _Implemented by_ `yummygyudon` (**정동규**)

## 🛠 Feature List
### 1️⃣ 게임 처리 기능
- [ ] 로또 번호의 범위는 1~45이다.
- [ ] 로또 발행 시, 각 번호는 중복되지 않는 6개의 숫자로만 구성된다.
- [ ] 당첨 번호 추첨 시 중복되지 않는 숫자 6개와 보너스 번호 1개를 뽑는다.
- [ ] 당첨은 1등부터 5등까지 있다. 당첨 기준과 금액은 아래와 같다.
  - 당첨 기준
    ```
    - 1등: 6개 번호 일치 / 2,000,000,000원
    - 2등: 5개 번호 + 보너스 번호 일치 / 30,000,000원
    - 3등: 5개 번호 일치 / 1,500,000원
    - 4등: 4개 번호 일치 / 50,000원
    - 5등: 3개 번호 일치 / 5,000원
    ```

<br/>

- [ ] 로또 구입 금액을 입력받는다.
  - [ ] 게임 플레이어가 입력한 금액만큼 구매되어 발행된 로또번호들을 출력한다.
  - [ ] 로또 1장의 가격은 1,000원이다.

<br/>
  
- [ ] 당첨 번호와 보너스 번호를 입력받는다.
- [ ] 사용자가 구매한 로또 번호와 당첨 번호를 비교하여 당첨 내역 및 수익률을 출력하고 로또 게임을 종료한다.
- [ ] 사용자가 잘못된 값을 입력할 경우 IllegalArgumentException를 발생시킨다.
  - [ ]"[ERROR]"로 시작하는 에러 메시지를 출력한다. 
  - [ ] 에러가 발생한 그 부분부터 입력을 다시 받는다.
  - _Exception이 아닌 IllegalArgumentException, IllegalStateException 등과 같은 명확한 유형을 처리한다._

<br/>
  
- [ ] 최종 당첨 내역과 수익률을 출력한 후, 게임이 종료된다.
- [ ] 게임을 종료한 후 게임을 다시 시작하는 기능은 없으며 완전히 종료된다.


<br/>
<br/>

### 2️⃣ 입/출력 기능
- [ ] 구입금액을 **입력**받는다.
  - Message : `구입금액을 입력해 주세요.`

<br/>

- [ ] 구매한 로또 갯수를 **출력**한다.
  - Format : `x개를 구매했습니다.`
- [ ] 각 로또의 구성 숫자를 아래 형식으로 **출력**한다.
  - [ ] 번호는 **오름차순**으로 정렬하여 보여준다. 
  - Format : `[x, x, x, x, x, x]`

<br/>

- [ ] **당첨 번호**를 입력받는다.
  - Message : `당첨 번호를 입력해 주세요.`
- [ ] **보너스 번호**를 입력받는다.
  - Message : `보너스 번호를 입력해 주세요.`

<br/>

- [ ] 당첨 통계 출력
    - Format : 
    ```
    당첨 통계
    ---
    3개 일치 (5,000원) - x개
    4개 일치 (50,000원) - x개
    5개 일치 (1,500,000원) - x개
    5개 일치, 보너스 볼 일치 (30,000,000원) - x개
    6개 일치 (2,000,000,000원) - x개
    총 수익률은 xx.x%입니다.
    ```
    - 수익률은 소수점 둘째 자리에서 반올림한다. (ex. `100.0%`, `51.5%`, `1,000,000.0%`)
  
<br/>

> 최종 예시
```
구입금액을 입력해 주세요.
8000

8개를 구매했습니다.
... (8개의 로또번호 리스트 출력)

당첨 번호를 입력해 주세요.
1,2,3,4,5,6

보너스 번호를 입력해 주세요.
7

당첨 통계
---
3개 일치 (5,000원) - ...개
4개 일치 (50,000원) - ...개
5개 일치 (1,500,000원) - ...개
5개 일치, 보너스 볼 일치 (30,000,000원) - ...개
6개 일치 (2,000,000,000원) - ...개
총 수익률은 xx.x%입니다.
```

<br/>
<br/>

---
## 🚨 Exception Situation 🚨
### 1️⃣ 당첨 번호 입력
#### Case 1. 잘못된 구분자
- `,`로 구분하지 않았을 때
  - ex. `12. 34. 23. 4. 1, 13`, `12/34/23/4/1/13`, `12&34&23&4&1&13`, `12 + 34 + 23 + 4 + 1 + 13`

#### Case 2. 구분자로 나우었을 때, 숫자가 아닌 값을 입력했을 때
- 공백/한글/영어/특수기호를 입력했을 때
  - ex. ` , 24, 23, 4, 1, 14`, ` a, b, c, 23, 4, 14`, ` .:;, 34, 12, 15, 37, 29`, `,,,,,` ` , , , , , `

#### Case 3. 6개의 숫자를 입력하지 않았을 때
- 5개 이하 혹은 7개 이상의 숫자를 입력했을 때
  - ex. `1, 4, 14, 42`, `1, 35, 24, 31, 11, 28, 44`

#### Case 4. 유효하지 않은 숫자를 입력했을 때
- 0 이하의 숫자를 입력했을 때
  - ex. ` -1, 12, 23, 4, 1, 14`, ` 23, 14, 0, 23, 4, 14`
- 45 초과의 숫자를 입력했을 때
  - ex. ` 1, 23, 44, 47, 2, 14`, ` 13, 13, 1, 23, 4, 14`

#### Case 5. 중복되는 숫자를 입력했을 때
- ex. ` 25, 24, 24, 4, 1, 14`, ` 1, 34, 13, 11, 44, 1`

<br/>

### 2️⃣보너스 번호 입력
#### Case 1. 숫자가 아닌 값을 입력했을 때
- 공백/한글/영어/특수기호를 입력했을 때
  - ex. ``, ` `, `.`, `!@#`, `$#`, `#`

#### Case 2. 숫자를 한 개만 입력하지 않았을 때
- ex. ` 25, 24, 24, 4, 1, 14`, ` 25, 24`

#### Case 3. 유효하지 않은 숫자를 입력했을 때
- 0 이하의 숫자를 입력했을 때
  - ex. `-1`, `0`
- 45 초과의 숫자를 입력했을 때
  - ex. `47`, `123`
- 단, 공백이 많아도 결국 숫자가 하나만 있으면 통과시킨다.
  - ex. `     43`, `   12   `, `19   `
- 단, 공백을 간격으로 두는 등 1개가 아닌 갯수처럼 입력할 경우, 에러를 발생시킨다. (ex. `3    6`)
  - ex. `1 4`, `1    2`

#### Case 4. 이미 당첨 번호 중에 있는 숫자를 보너스 번호로 입력했을 때

<br/>

### 3️⃣ 구매 금액 입력
#### Case 1. 숫자를 입력하지 않았을 때
- 공백/한글/영어/특수기호를 입력했을 때
- ex. `12. 34. 23. 4`, `12/34/23/4`, `12&34&23&4`, `12 + 34 + 23 + 4`

#### Case 2. 유효하지 않은 숫자를 입력했을 때
- `0` 을 입력하거나 `0`으로 시작하게끔 입력한 경우
  - ex. `0`, `000000000012`
- 숫자 사이에 공백이 있을 때
  - ex. `1 4`, `1    2`
- 1000 원 미만의 값을 입력했을 때
  - ex. `999`, `1`
- 1000 으로 나누어 떨어지지 않는 값을 입력했을 때
  - ex. `1001`, `7777`, `1999`

### 3️⃣ 공통
#### ⁜ 빈 값 입력


<br/>
<br/>

---
## ✅ Check Before Submit
### 🚀 기능 구현
- [ ] 주어진 기능 요구사항에 맞게 기능이 처리되는가
- [ ] 주어진 예외 처리 요구사항에 맞게 예외를 처리하는가
- [ ] 변수 이름에 자료형을 사용하지 않았는가

### 🎯 프로그래밍 요구 사항
#### (1) 준수 여부
- [ ] 기능을 구현하기 전, `docs/README.md`에 구현 기능 목록을 정리해 추가했는가
- [ ] 제공된 `Lotto` 클래스를 활용했는가
  - [ ] `numbers` 의 접근 제어자는 수정하지 않았는가
  - [ ] `Lotto` 클래스 필드를 추가하지 않았는가
- [ ] `camp.nextstep.edu.missionutils`에서 제공하는 `Randoms` 및 `Console API`를 사용하여 구현했는가
- [ ] `ApplicationTest`의 테스트를 모두 통과했는가
- [ ] Java 코드 컨벤션 가이드를 준수했는가
    - [ ] 블럭 들여쓰기를 **+4 스페이스** 간격으로 했는가
    - [ ] 들여쓰기 단계는 블록 전체의 코드와 주석 모두에 적용했는가
    - [ ] 120자 열 제한을 준수했는가
    - [ ] 코드 지속을 위한 들여쓰기에 최소 원래 줄에서 +8 이상 들여썼는가
- [ ] 요구사항에 명시된 출력값 형식을 지켰는가
- [ ] <u>UI를 제외한</u> **도메인 로직에 단위 테스트**를 구현했는가


#### (2) 사용 제한
- [ ] `System.exit()`을 통한 종료를 하지 않았는가
- [ ] 외부 라이브러리를 사용하지는 않았는가

<br/>
<br/>

---
## 🚀 개인 목표
1. 도메인별로 예외 계층화 시켜서 구체화된 애플리케이션 구현하기
- 도메인 내부에선 해당 도메인에 대한 예외만 명시적으로 발생시키기성

<br/>

2. 단순 **입력** 단계에서의 예외와 **도메인** 단계의 예외를 분리하여 구체화한다.
- 공백, 구분자 등에 대한 예외는 입력 객체에서 발생시킨다.
- 유효한 값 범위 등에 대한 예외는 해당하는 도메인 객체에서 발생시킨다.

<br/>

3. 더욱 철저한 함수 분리하기
- 15줄 초과하지 않기
- 직관적인 네이밍 하기 

<br/>

4. 테스트 최대한 세분화/세분화하기
- 메서드 단위 테스트 구현
  - 여러 Case에 대해 테스트
- 시나리오 단위 테스트 구현