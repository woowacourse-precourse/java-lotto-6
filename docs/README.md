
# 메인 체크리스트

- [x]  기능 요구 사항
- [x]  프로그래밍 요구 사항
- [x]  과제 진행 요구 사항

---

# 구현하기

### 기능 요구 사항

```
- 로또 번호의 숫자 범위는 1~45까지이다.
- 1개의 로또를 발행할 때 중복되지 않는 6개의 숫자를 뽑는다.
- 당첨 번호 추첨 시 중복되지 않는 숫자 6개와 보너스 번호 1개를 뽑는다.
- 당첨은 1등부터 5등까지 있다. 당첨 기준과 금액은 아래와 같다.
    - 1등: 6개 번호 일치 / 2,000,000,000원
    - 2등: 5개 번호 + 보너스 번호 일치 / 30,000,000원
    - 3등: 5개 번호 일치 / 1,500,000원
    - 4등: 4개 번호 일치 / 50,000원
    - 5등: 3개 번호 일치 / 5,000원

```

- 로또 신청 금액을 입력하면 신청 금액에 해당하는만큼 로또를 발행해야 합니다.
- 로또 1장의 가격은 1,000원이다.
- 본인이 받아야 할 권한을 입력받는다.
- 사용자가 구매한로 또 다른 혜택과 당첨금을 비교하여 내역과 수익을 출력하고 또 게임을 종료합니다.
- 사용자가 잘못된 값을 입력한 경우 IllegalArgumentException, "[ERROR]"로 시작하여 사용자가 입력한 후 다시 입력했습니다.
- Exception이 아닌 IllegalArgumentException, IllegalStateException똑같은 결정을 처리한다.

### 플로우

1. 로또 신청 금액을 입력받음
2. 금액 1차 유효검사
3. String → int 변환
4. 2차 유효 검사 + 1000으로 나누어 로또 구입 개수를 구함
    - 유효검사(나머지) =  금액 % 1000
    - 개수(몫) = 금액/1000
5. 구입 개수 만큼 랜덤 로또 번호를 생성.

1. 당첨 번호를 입력받음 + 유효검사
2. 보너스 번호를 입력 받음 + 유효검사
3. String → List<Integer> 변환
4. Lotto객체 생성 및 List<Lotto>저장

1. 결과 대조 검사
2. HashMap<Enum,Integer> 결과 저장
3. 당첨 통계 출력
4. 수익률 출력

### 기능 목록

- [x]  금액 입력받기 → 유효검사 → 저장
- [x]  로또 구매 횟수값 구하기
- [x]  랜덤로또번호 생성 후 저장 `List<Lotto>`

- [x]  로또 번호 입력받기 → 유효검사 → 저장
- [x]  보너스 번호 입력받기 → 유효검사 → 저장

- [x]  로또 결과 확인하기
- [x]  최종 출력을 위한 HashMap 업데이트하기
- [x]  수익률 계산하기

### 예외처리 ✔
- 구입 금액
  - [x]  숫자(정수)로만 이루어져 있는가?
  - [x]  공백이 있는가?
  - [x]  맨 앞자리 숫자가 0인가? -> 자동으로 생략하고 처리됨
  - [x]  1000 이상인가?
  - [x]  1000으로 나누었을 때 나머지가 0인가?
- 메인 랜덤 번호
  - [x]  정수 6개인가?
  - [x]  중복되지 않는가?
  - [x]  범위 안에 들어오는가? 1~49
  - [x]  공백이 있는가?
- 보너스 번호
  - [x]  정수 1개인가?
  - [x]  메인 랜덤 번호와 중복되지 않는가?
  - [x]  범위 안에 들어오는가? 1~49

### 주의해야할 점

- [x]  메인 랜덤 번호와 보너스 번호는 구분되어야한다.
- [x]  3,4,5등은 보너스 번호와 관계 없다.
- [x]  구입 금액은 ‘랜덤 번호’의 수량과 관련있다. 사용자의 랜덤 번호 입력 횟수와는 관련 없다.
- [x]  잘못된 값을 입력할 경우 다시 입력받는다.

  [input → true/fales → controller]

- [x]  당첨은 최소 3개의 숫자가 동일했을 때 부터이다. [랜덤 번호 6자리 - 사용자 번호 7자리]
- [x]  i개(4~6개)의 숫자가 일치한 로또가 n개 일때,

  i (일치하는 번호) : 랜덤 로또 하나(6)

  n (일치하는 등수)  : {랜덤 로또 하나(6) * 로또 개수}
- [x] 최종 출력은 5등->1등의 순서이다. (Rank에 저장된 순서와 반대)
- [x] 출력은 천단위로 구분된 숫자로 출력해야한다. (숫자 포맷팅)


## 리팩토링

- [x] 보너스 번호 중복 처리 
- [ ] ~~LottoNumberMatcher에서 바로 EnumMap 업데이트~~
  -> Matcher-Manager 너무 의존성이 높아질 거 같다.
- [x] 출력 데이터 수익률, 랭킹 출력 부분 나누기
- [ ] ~~ERROR 메시지 Output에서 선언하고 가져오기~~
  -> Model-view 데이터 이동?

---

## 프로그래밍 요구 사항

- [x]  도메인 로직에 단위 테스트 코드를 작성한다
- [x]  메서드 길이가 15라인을 넘기 않도록 한다.
- [x]  Enum을 적용한다.
- [x] 클래스는 [상수 -> 멤버변수 -> 생성자 -> 메서드] 순으로 작성한다.
- [x] switch-case문을 사용하지 않는다.
 
---

### 과제 진행 요구 사항

- [x]  모두 준수